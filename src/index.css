/* 
 * Tailwind CSS base layer: injects base styles and CSS resets.
 */
@tailwind base;

/*
 * Tailwind CSS components layer: for defining custom component classes using @apply.
 */
@tailwind components;

/*
 * Tailwind CSS utilities layer: includes all utility classes for rapid styling.
 */
@tailwind utilities;

/*
 * Base layer tweaks for smoother anchor navigation.
 */
@layer base {
  html {
    scroll-behavior: smooth;
  }
}

/*
 * Custom Tailwind component classes for reusable UI elements.
 */
@layer components {
  /* Centers content and constrains width for layout. */
  .align-element {
    @apply mx-auto max-w-7xl px-8;
  }
  /* Applies a white background color. */
  .background {
    /* Theme-aware background/text with smooth transitions. */
    @apply min-h-screen bg-white text-slate-900 dark:bg-black dark:text-slate-100 transition-colors duration-300;
  }

  /* Highlights text with blue color. */
  .highlight {
    /* Slightly softer blue in dark mode for contrast. */
    @apply text-blue-500 dark:text-blue-400;
  }
  /* Makes text bold for titles. */
  .title {
    @apply font-bold;
  }
  /* Subdued gray color for secondary text. */
  .sub-text {
    /* Lighten secondary text in dark mode. */
    @apply text-gray-600 dark:text-slate-300;
  }

  /* Adds highlight effect on hover with smooth transition. */
  .hover-effect {
    @apply hover:highlight transition-colors duration-300;
  }
  /* Sizing for icon buttons. */
  .icon-button {
    @apply h-8 w-8;
  }

  .arrow-loop {
    animation: arrow-loop 1.6s ease-in-out infinite;
    will-change: transform;
  }

  .arrow-loop:hover {
    animation-play-state: paused;
  }

  /* Reveal animation for section content. */
  .reveal-on-scroll {
    @apply opacity-0 translate-y-6;
    transition: opacity 600ms ease var(--reveal-delay, 0ms),
      transform 600ms ease var(--reveal-delay, 0ms),
      border-color 300ms ease 0ms;
    will-change: opacity, transform;
  }

  .reveal-on-scroll.is-visible {
    @apply opacity-100 translate-y-0;
  }
}

/*
 * Keyframe animation for rotating spinner (used in loading indicator).
 */
@keyframes spinner {
  to {
    transform: rotate(360deg);
  }
}

@keyframes arrow-loop {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(8px);
  }
}

/*
 * Loading spinner styling:
 * - Circular shape with border.
 * - Blue color on top border for spinner effect.
 * - Applies the spinner animation for continuous rotation.
 */
.loading {
  width: 6rem;
  height: 6rem;
  border: 5px solid var(--grey-400);
  border-radius: 50%;
  border-top-color: #93c5fd;
  animation: spinner 0.6s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  .arrow-loop {
    animation: none;
  }

  .reveal-on-scroll {
    opacity: 1;
    transform: none;
    transition: none;
  }
}
